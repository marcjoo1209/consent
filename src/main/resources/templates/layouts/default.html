<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta th:name="_csrf" th:content="${_csrf.token}" />
    <meta th:name="_csrf_header" th:content="${_csrf.headerName}" />
    <title layout:title-pattern="$CONTENT_TITLE - $LAYOUT_TITLE">법무법인 태성</title>
    <link rel="icon" type="image/svg+xml" th:href="@{/resource/image/symbol.svg}" />
    <link rel="stylesheet" th:href="@{/dist/css/output.css}" />
    <!--/* Tailwind CSS */-->
    <link rel="stylesheet" th:href="@{/dist/css/output.css}" />

    <!--/* Main JavaScript */-->
    <script th:src="@{/dist/js/main.bundle.js}"></script>

    <!--/* Additional CSS */-->
    <th:block layout:fragment="css"></th:block>
  </head>

  <body>
    <!--/* Header */-->
    <div th:replace="~{fragments/header :: header}"></div>

    <!--/* Main Content */-->
    <main>
      <div layout:fragment="content">
        <!--/* Page content will be inserted here */-->
      </div>
    </main>

    <!--/* Footer */-->
    <div th:replace="~{fragments/footer :: footer}"></div>

    <!--/* Toast/Notification Container */-->
    <div id="toast-container" class="fixed bottom-8 right-8 z-50 flex flex-col gap-3"></div>

    <!--/* Common Scripts */-->
    <script>
      // Toast notification function
      function showToast(message, type = "info") {
        const toast = document.createElement("div");
        const container = document.getElementById("toast-container");

        // Set up toast styling based on type
        const typeStyles = {
          success: {
            bg: "bg-green-100",
            border: "border-green-500",
            text: "text-green-900",
            icon: `<svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>`,
          },
          error: {
            bg: "bg-red-100",
            border: "border-red-500",
            text: "text-red-900",
            icon: `<svg class="w-5 h-5 text-red-500" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                  </svg>`,
          },
          warning: {
            bg: "bg-yellow-100",
            border: "border-yellow-500",
            text: "text-yellow-900",
            icon: `<svg class="w-5 h-5 text-yellow-500" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                  </svg>`,
          },
          info: {
            bg: "bg-blue-100",
            border: "border-blue-500",
            text: "text-blue-900",
            icon: `<svg class="w-5 h-5 text-blue-500" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                  </svg>`,
          },
        };

        const style = typeStyles[type] || typeStyles.info;

        // Create toast HTML
        toast.className = `${style.bg} ${style.border} ${style.text} border-l-4 p-4 rounded-lg shadow-lg min-w-[300px] max-w-md transform transition-all duration-300 translate-x-full opacity-0`;
        toast.innerHTML = `
          <div class="flex items-center">
            <div class="flex-shrink-0">
              ${style.icon}
            </div>
            <div class="ml-3">
              <p class="text-sm font-medium">${message}</p>
            </div>
            <div class="ml-auto pl-3">
              <button onclick="this.closest('div').parentElement.remove()" class="-mx-1.5 -my-1.5 ${style.text} rounded-lg p-1.5 hover:bg-black hover:bg-opacity-10 inline-flex h-8 w-8 items-center justify-center">
                <span class="sr-only">Close</span>
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                </svg>
              </button>
            </div>
          </div>
        `;

        container.appendChild(toast);

        // Trigger animation
        setTimeout(() => {
          toast.classList.remove("translate-x-full", "opacity-0");
          toast.classList.add("translate-x-0", "opacity-100");
        }, 10);

        // Auto remove after 5 seconds
        setTimeout(() => {
          toast.classList.remove("translate-x-0", "opacity-100");
          toast.classList.add("translate-x-full", "opacity-0");
          setTimeout(() => toast.remove(), 300);
        }, 5000);
      }

      // Make showToast globally available
      window.showToast = showToast;
    </script>

    <!--/* Additional Scripts */-->
    <th:block layout:fragment="script"></th:block>
  </body>
</html>
