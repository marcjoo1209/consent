<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/default}">
  <body>
    <div layout:fragment="content">
      <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!--/* Page Header */-->
        <div class="mb-8">
          <div class="flex items-center space-x-3 mb-2">
            <a th:href="@{/admin/aparts}" class="text-gray-500 hover:text-gray-700">
              <i class="fas fa-arrow-left"></i>
            </a>
            <h1 class="text-3xl font-bold text-gray-900" th:text="${apart.id != null} ? '아파트 수정' : '새 아파트 등록'">아파트 등록</h1>
          </div>
          <p class="text-gray-600 ml-7" th:text="${apart.id != null} ? '아파트 정보를 수정합니다' : '새로운 아파트를 등록합니다'"></p>
        </div>

        <!--/* Form Card */-->
        <div class="bg-white rounded-lg shadow-md p-4">
          <form th:action="${apart.id != null} ? @{/admin/aparts/{id}(id=${apart.id})} : @{/admin/aparts}" th:object="${apart}" method="post" class="space-y-6">
            <!--/* 아파트 코드 */-->
            <div>
              <label for="aptCode" class="block text-sm font-medium text-gray-700 mb-1">
                아파트 코드
                <span class="text-red-500">*</span>
              </label>
              <input type="text" id="aptCode" th:field="*{aptCode}" placeholder="예: APT001" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" th:classappend="${#fields.hasErrors('aptCode')} ? 'border-red-500' : 'border-gray-300'" />
              <p th:if="${#fields.hasErrors('aptCode')}" class="mt-1 text-sm text-red-600" th:errors="*{aptCode}"></p>
              <p class="mt-1 text-xs text-gray-500">3-10자의 대문자 및 숫자만 사용 가능</p>
            </div>

            <!--/* 아파트명 */-->
            <div>
              <label for="aptName" class="block text-sm font-medium text-gray-700 mb-1">
                아파트명
                <span class="text-red-500">*</span>
              </label>
              <input type="text" id="aptName" th:field="*{aptName}" placeholder="예: 삼성래미안" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" th:classappend="${#fields.hasErrors('aptName')} ? 'border-red-500' : 'border-gray-300'" />
              <p th:if="${#fields.hasErrors('aptName')}" class="mt-1 text-sm text-red-600" th:errors="*{aptName}"></p>
            </div>

            <!--/* 주소 */-->
            <div>
              <label for="address" class="block text-sm font-medium text-gray-700 mb-1">주소</label>
              <input type="text" id="address" th:field="*{address}" placeholder="예: 서울시 강남구 대치동 123-45" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
            </div>

            <!--/* 동수 / 세대수 */-->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="totalDong" class="block text-sm font-medium text-gray-700 mb-1">총 동 수</label>
                <input type="number" id="totalDong" th:field="*{totalDong}" placeholder="예: 5" min="1" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" th:classappend="${#fields.hasErrors('totalDong')} ? 'border-red-500' : 'border-gray-300'" />
                <p th:if="${#fields.hasErrors('totalDong')}" class="mt-1 text-sm text-red-600" th:errors="*{totalDong}"></p>
              </div>

              <div>
                <label for="totalHousehold" class="block text-sm font-medium text-gray-700 mb-1">총 세대수</label>
                <input type="number" id="totalHousehold" th:field="*{totalHousehold}" placeholder="예: 500" min="1" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" th:classappend="${#fields.hasErrors('totalHousehold')} ? 'border-red-500' : 'border-gray-300'" />
                <p th:if="${#fields.hasErrors('totalHousehold')}" class="mt-1 text-sm text-red-600" th:errors="*{totalHousehold}"></p>
              </div>
            </div>

            <!--/* Form Actions */-->
            <div class="flex justify-end space-x-3 pt-6 border-t">
              <a th:href="@{/admin/aparts}" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition">취소</a>
              <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
                <i class="fas fa-save mr-2"></i>
                <span th:text="${apart.id != null} ? '수정' : '등록'">등록</span>
              </button>
            </div>
          </form>
        </div>

        <!--/* Help Card */-->
        <div class="mt-6 bg-blue-50 rounded-lg p-4">
          <div class="flex">
            <i class="fas fa-info-circle text-blue-500 mt-1 mr-3"></i>
            <div>
              <h3 class="text-sm font-medium text-blue-900">도움말</h3>
              <ul class="mt-2 text-sm text-blue-700 list-disc list-inside space-y-1">
                <li>아파트 코드는 시스템에서 고유하게 관리됩니다</li>
                <li>동/호수 체계는 등록 후 상세 설정에서 구성할 수 있습니다</li>
                <li>등록된 아파트는 동의서 작성 시 선택할 수 있습니다</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
